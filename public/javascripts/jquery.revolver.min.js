;(function(b){var a=function(c,a){this.options=b.extend(!0,{},b.fn.revolver.defaults,a);this.container=b(c);this.dimensions={height:this.container.height(),width:this.container.width()};this.slides=this.container.find("."+this.options.slideClass).each(b.proxy(function(){this.addSlide(this)},this));this.numSlides=this.slides.length;this.currentSlide=0;this.nextSlide=1<this.numSlides?1:0;this.lastSlide=0==this.numSlides?null:this.numSlides-1;this.status={paused:!1,playing:!1,stopped:!0};this.isAnimating= !1;if(!(1>=this.numSlides))return b.proxy(this.options.onReady,this)(),this.options.autoPlay&&this.play({},!0),this};a.prototype.currentSlide=null;a.prototype.nextSlide=null;a.prototype.numSlides=0;a.prototype.lastSlide=null;a.prototype.container=null;a.prototype.slides=[];a.prototype.iteration=0;a.prototype.intervalId=null;a.prototype.status=null;a.prototype.options=null;a.prototype.dimensions=null;a.prototype.isAnimating=null;a.prototype.addSlide=function(c){this.slides.push(c)};a.prototype.changeStatus= function(c){var a=this;b.each(this.status,function(b){a.status[b]=b==c});return this};a.prototype.transition=function(c){if(!1===this.isAnimating)c=b.extend(!0,{},this.options.transition,c),doTransition=b.proxy(this.transitions[c.type],this),this.isAnimating=!0,doTransition(c),this.currentSlide=this.nextSlide,this.nextSlide=this.currentSlide==this.lastSlide?0:this.currentSlide+1,this.iteration++,b.proxy(c.onStart,this)();return this};a.prototype.transitions={none:function(c){this.slides.eq(this.currentSlide).hide(); this.slides.eq(this.nextSlide).show();b.proxy(c.onFinish,this);this.isAnimating=!1},fade:function(c){var a=this;this.slides.eq(this.currentSlide).fadeOut(c.speed);this.slides.eq(this.nextSlide).fadeIn(c.speed,function(){b.proxy(c.onFinish,a)();a.isAnimating=!1})},slide:function(c){var a=this,f=this.slides.eq(this.currentSlide),g=this.slides.eq(this.nextSlide),d={},e={};this.slides.eq(this.nextSlide).css("z-index",this.iteration+1);switch(c.direction){case "up":d={top:0-this.dimensions.height,left:0}; e={top:this.dimensions.height,left:0};break;case "right":d={top:0,left:this.dimensions.width};e={top:0,left:0-this.dimensions.width};break;case "down":d={top:this.dimensions.height,left:0};e={top:0-this.dimensions.height,left:0};break;default:d={left:0-this.dimensions.width,top:0},e={left:this.dimensions.width,top:0}}f.stop(!0).animate(d,c.speed,function(){b(this).hide()});g.show().css(e).stop(!0).animate({top:0,left:0},c.speed,function(){b.proxy(c.onFinish,a)();a.isAnimating=!1})},reveal:function(c){var a= this;this.slides.eq(this.nextSlide).css({width:0,height:this.dimensions.height,"z-index":this.iteration+1}).show().animate({width:this.dimensions.width},c.speed,function(){b.proxy(c.onFinish,a)();a.isAnimating=!1});return this}};a.prototype.play=function(c,a){if(!this.status.playing)this.changeStatus("playing"),b.proxy(this.options.onPlay,this)(),a||this.transition(c),this.intervalId=setInterval(b.proxy(this.transition,this),parseFloat(this.options.rotationSpeed));return this};a.prototype.pause=function(){if(!this.status.paused&& (this.changeStatus("paused"),b.proxy(this.options.onPause,this)(),null!==this.intervalId))clearInterval(this.intervalId),this.intervalId=null;return this};a.prototype.stop=function(){if(!this.status.stopped&&(this.changeStatus("stopped"),b.proxy(this.options.onStop,this)(),null!==this.intervalId))clearInterval(this.intervalId),this.intervalId=null;return this.reset()};a.prototype.reset=function(){if(0!=this.currentSlide)this.nextSlide=0;return this};a.prototype.restart=function(a){b.proxy(this.options.onRestart, this)();return this.stop().play(a)};a.prototype.first=function(a){return this.goTo(0,a)};a.prototype.previous=function(a){return this.goTo(0===this.currentSlide?this.lastSlide:this.currentSlide-1,a)};a.prototype.goTo=function(a,b){if(a==this.currentSlide)return this;this.nextSlide=a;return!this.status.playing?this.transition(b):this.pause().play(b)};a.prototype.next=function(a){return this.goTo(this.nextSlide,a)};a.prototype.last=function(a){return this.goTo(this.lastSlide,a)};b.fn.revolver=function(c){return this.each(function(){b.data(this, "revolver")||b.data(this,"revolver",new a(this,c))})};b.fn.revolver.defaults={autoPlay:!0,onReady:function(){},onPlay:function(){},onStop:function(){},onPause:function(){},onRestart:function(){},rotationSpeed:4E3,slideClass:"slide",transition:{direction:"left",easing:"swing",onStart:function(){},onFinish:function(){},speed:500,type:"fade"}}})(jQuery);